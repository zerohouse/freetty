app.post('/api/article/list', function (req, res) {
        var query = {done: true};
        if (req.passed) {
            if (req.passed.time) {
                query.startTime = {$lte: req.passed.time};
                query.endTime = {$gte: req.passed.time};
            }
            if (req.passed.location) {
                query.location = {
                    geometry: {
                        lat: {$lte: 1, $gte: 1},
                        lng: {$lte: 1, $gte: 1}
                    }
                };
            }
            if (req.passed.provider)
                query.provider = req.passed.provider;
        }

        var limit = req.passed.limit;
        if (limit == undefined)
            limit = 6;
        if (limit > 10)
            limit = 6;

        Article.find(query).sort({'date': -1}).limit(limit).skip(req.passed.skip).exec(function (err, results) {
            res.send(results);
        });
    }
);

